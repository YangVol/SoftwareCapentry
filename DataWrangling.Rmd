---
title: "DataWrangling"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse) ## install.packages("tidyverse")
```

```{r}
gapminder <- readr::read_csv('https://raw.githubusercontent.com/OHI-Science/data-science-training/master/data/gapminder.csv')

gapminder
head(gapminder)
tail(gapminder)
str(gapminder)
summary(gapminder)
library(skimr) # install.packages('skimr')
skim(gapminder)
names(gapminder)
ncol(gapminder)
nrow(gapminder)
c(nrow(gapminder), ncol(gapminder))
skimr::skim(gapminder)
```


```{r}
lowlifeExp <- filter(gapminder,lifeExp<29)
Mexico <- filter(gapminder,country=="Mexico")
filter(gapminder,country %in% c("Mexico","Peru"))
x <- filter(gapminder, country == "Sweden") 
mean(filter(gapminder,country=="Sweden")$lifeExp)
```

```{r}
select(gapminder,year,lifeExp)
select(gapminder,-continent,-lifeExp)
gap_cambodia <- filter(gapminder,country=="Cambodia")
gap_cambodia2 <- select(gap_cambodia,-continent,-lifeExp)
gap_cambodia3 <- select(filter(gapminder,country=="Cambodia"),-continent,-lifeExp)
```

```{r}
# shortcut for pipe operator: ctl+shift+M
gapminder %>% head()
gap_cambodia <- gapminder %>% filter(country=="Cambodia")
gap_cambodia2 <- select(gap_cambodia,-continent,-lifeExp)

gap_cambodia <- gapminder %>% 
  filter(country=="Cambodia") %>% 
  select(-continent,-lifeExp)
```


```{r}
gapminder %>% 
  mutate(index=1:nrow(gapminder))

gapminder %>% 
  mutate(planet="earth")

gapminder %>% 
  mutate(GDP=pop*gdpPercap)

gapminder %>% 
  filter(country %in% c("Egypt","Vietnam")) %>% 
  mutate(GDP=pop*gdpPercap) %>% 
    mutate(maxGDP=max(GDP))


```

